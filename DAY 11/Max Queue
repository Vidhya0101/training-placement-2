from collections import deque
def maxResult(nums, k):
    dq = deque([0])
    for i in range(1, len(nums)):
        nums[i] += nums[dq[0]]
        while dq and nums[dq[-1]] <= nums[i]:
            dq.pop()
        dq.append(i)
        if dq[0] == i - k:
            dq.popleft()
    return nums[-1]
