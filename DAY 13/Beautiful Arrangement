def countArrangement(n):
    used = [False] * (n + 1)
    res = 0
    def backtrack(pos):
        nonlocal res
        if pos > n:
            res += 1
            return
        for i in range(1, n + 1):
            if not used[i] and (i % pos == 0 or pos % i == 0):
                used[i] = True
                backtrack(pos + 1)
                used[i] = False
    backtrack(1)
    return res
